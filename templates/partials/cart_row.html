{% comment %} <tr id="cart-row-{{ product.id }}">
    <td>
        <div class="d-flex align-items-center">
            <a href="{% url 'product_detail' product.id %}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
            </a>
            <div>
                <a href="{% url 'product_detail' product.id %}" class="fw-bold text-dark text-decoration-none">{{ product.name }}</a>
            </div>
        </div>
    </td>
    <td class="text-end">${{ product.price }}</td>
    <td class="text-center">
        <form hx-post="{% url 'update_cart_quantity' %}"
              hx-target="#cart-row-{{ product.id }}"
              hx-swap="outerHTML">
            {% csrf_token %}
            <input type="hidden" name="product_id" value="{{ product.id }}">
            <input type="number" 
                   name="quantity" 
                   value="{{ quantity }}" 
                   min="1" 
                   max="10" 
                   class="form-control d-inline-block w-auto text-center" 
                   style="width: 70px;"
                   hx-trigger="change delay:300ms">
        </form>
    </td>
    <td class="text-end">${{ subtotal }}</td>
    <td class="text-end">
        <form hx-post="{% url 'remove_from_cart' %}"
              hx-target="#cart-row-{{ product.id }}"
              hx-swap="outerHTML remove">
            {% csrf_token %}
            <input type="hidden" name="product_id" value="{{ product.id }}">
            <button type="submit" class="btn btn-sm btn-outline-danger">
                <i class="bi bi-trash"></i>
            </button>
        </form>
    </td>
</tr> {% endcomment %}